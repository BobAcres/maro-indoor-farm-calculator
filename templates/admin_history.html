<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Maro – Calculation History</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>

  <body>
    <div class="app-card">
      <header class="app-header">
        <div class="brand">
          <img
            src="{{ url_for('static', filename='palmtiny.png') }}"
            alt="Maro logo"
            class="brand-logo"
          />
          <div class="brand-text">
            <div class="brand-name">Maro</div>
            <div class="brand-tagline">Calculation History</div>
          </div>
        </div>
      </header>

      <a href="{{ url_for('index') }}" class="back-link">
        ← Back to calculator
      </a>

      <div class="history-wrapper">
        {% if history and history|length > 0 %}
        <table class="history-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Area (m²)</th>
              <th>System type</th>
              <th>Crop</th>
              <th>Country</th>
              <th>Solar savings</th>
            </tr>
          </thead>
          <tbody>
            {% for row in history %}
            <tr>
              <td>{{ row["created_at"] }}</td>
              <td>{{ "%.0f"|format(row["area_m2"]) }}</td>
              <td>{{ row["system_type"] }}</td>
              <td>{{ row["crop"] }}</td>
              <td>{{ row["country"] }}</td>
              <td>{{ "%.2f"|format(row["savings"]) }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% else %}
        <div class="history-empty">No calculations have been saved yet.</div>
        {% endif %}
      </div>
    </div>
  </body>
</html>
